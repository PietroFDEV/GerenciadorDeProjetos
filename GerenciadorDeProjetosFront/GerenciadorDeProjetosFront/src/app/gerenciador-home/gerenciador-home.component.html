<!--------------------------------------NAV BAR-------------------------------------->
<!-- <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
  <div class="container-fluid">
    <a class="navbar-brand float-end" href="#">
      <img src="https://www.freeiconspng.com/thumbs/pokeball-png/pokeball-pokemon-go-game-icon-png-22.png" alt="Avatar Logo" style="width:40px;" class="rounded-pill"> 
    </a>
  </div>
</nav> -->
<!--------------------------------------LISTAS-------------------------------------->
<div class="d-flex flex-row bd-highlight p-5 align-items-start">
  <div class="list-group p-2 bd-highlight" *ngFor="let item of ListaList$|async;let i = index">
    <div *ngIf="item != null" class="rounded">
      <div href="#"
        class="list-group-item list-group-item-primary d-flex flex-row justify-content-between align-content-center"
        aria-current="true">
        {{ item.listName }}

        <div class="gap-1 d-flex flex-row ">
          <a class="btn btn-info text-white btn-sm btn-block" data-bs-toggle="modal" data-bs-target="#exampleModal"
            (click)="EditarLista(item.id)">Editar</a>
          <a class="btn btn-danger text-white btn-sm btn-block" data-bs-toggle="modal" data-bs-target="#exampleModal"
            (click)="ApagarLista(item.id, item.listNumber)">Apagar</a>
        </div>

      </div>

      <!--List1-->
      <div href="#" class="list-group-item bg-dark text-white d-grid gap-1 rounded-bottom" aria-current="true"
        *ngIf="item.listNumber == 1" cdkDropList>
        <li cdkDrag
          class="rounded border border-light list-group-item p-1"
          *ngFor="let card of cardList1" (click)="EditCard(card.id, 1,1)" [ngClass]="{'bg-danger' : card.idTag == 1, 'bg-info' : card.idTag == 2, 'bg-warning' : card.idTag == 3, 'bg-success' : card.idTag == 4, 'bg-secondary' : card.idTag == 5, 'bg-transparent' : card.idTag == null}">

          <div class="rounded list-group-item bg-dark d-flex list-group-item-action justify-content-between text-white border border-light btn-outline-info align-items-start gap-1 m-0">
            <div class="ms-2 ">
              <div class="fw-bold">{{ card.name }}</div>
              {{ card.text }}
            </div>
            <div class="ms-5  d-flex flex-column justify-content-around align-items-end gap-1">
              <span class="badge bg-primary rounded-pill">{{ card.createDate | date:'dd-MM' }}</span>
              <span class="badge bg-danger rounded-pill" *ngIf="card.deadline != null">{{ card.deadline | date:'dd-MM'
                }}</span>
            </div>
          </div>

        </li>
        <li class="mt-2 mb-2 d-flex list-group-item-action justify-content-between align-items-start text-white"
          (click)="EditCard(1,2,1)">
          <div href="#" class="d-flex flex-row bd-highlight align-items-start" aria-current="true">
            <button type="button" class="btn btn-success bg-dark text-white btn-outline-light btn-lg">
              <svg xmlns="http://www.w3.org/2000/svg" width="10%" height="10%" fill="currentColor"
                class="bi bi-plus mx-auto" viewBox="0 0 16 16">
                <path
                  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
              </svg>
            </button>
          </div>
        </li>
      </div>

      <!--List2-->
      <div href="#" class="list-group-item bg-dark text-white d-grid gap-1 rounded-bottom" aria-current="true"
        *ngIf="item.listNumber == 2" cdkDropList>
        <li cdkDrag
          class="rounded border border-light list-group-item p-1"
          *ngFor="let card of cardList2" (click)="EditCard(card.id, 1,2)" [ngClass]="{'bg-danger' : card.idTag == 1, 'bg-info' : card.idTag == 2, 'bg-warning' : card.idTag == 3, 'bg-success' : card.idTag == 4, 'bg-secondary' : card.idTag == 5, 'bg-transparent' : card.idTag == null}">

          <div class="rounded list-group-item bg-dark d-flex list-group-item-action justify-content-between text-white border border-light btn-outline-info align-items-start gap-1 m-0">
            <div class="ms-2 ">
              <div class="fw-bold">{{ card.name }}</div>
              {{ card.text }}
            </div>
            <div class="ms-5  d-flex flex-column justify-content-around align-items-end gap-1">
              <span class="badge bg-primary rounded-pill">{{ card.createDate | date:'dd-MM' }}</span>
              <span class="badge bg-danger rounded-pill" *ngIf="card.deadline != null">{{ card.deadline | date:'dd-MM'
                }}</span>
            </div>
          </div>

        </li>
        <li class="mt-2 mb-2 d-flex list-group-item-action justify-content-between align-items-start text-white"
          (click)="EditCard(1,2,2)">
          <div href="#" class="d-flex flex-row bd-highlight align-items-start" aria-current="true">
            <button type="button" class="btn btn-success bg-dark text-white btn-outline-light btn-lg">
              <svg xmlns="http://www.w3.org/2000/svg" width="10%" height="10%" fill="currentColor"
                class="bi bi-plus mx-auto" viewBox="0 0 16 16">
                <path
                  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
              </svg>
            </button>
          </div>
        </li>
      </div>

      <!--List3-->
      <div href="#" class="list-group-item bg-dark text-white d-grid gap-1 rounded-bottom" aria-current="true"
        *ngIf="item.listNumber == 3" cdkDropList>
        <li cdkDrag
          class="rounded border border-light list-group-item p-1"
          *ngFor="let card of cardList3" (click)="EditCard(card.id, 1,3)" [ngClass]="{'bg-danger' : card.idTag == 1, 'bg-info' : card.idTag == 2, 'bg-warning' : card.idTag == 3, 'bg-success' : card.idTag == 4, 'bg-secondary' : card.idTag == 5, 'bg-transparent' : card.idTag == null}">

          <div class="rounded list-group-item bg-dark d-flex list-group-item-action justify-content-between text-white border border-light btn-outline-info align-items-start gap-1 m-0">
            <div class="ms-2 ">
              <div class="fw-bold">{{ card.name }}</div>
              {{ card.text }}
            </div>
            <div class="ms-5  d-flex flex-column justify-content-around align-items-end gap-1">
              <span class="badge bg-primary rounded-pill">{{ card.createDate | date:'dd-MM' }}</span>
              <span class="badge bg-danger rounded-pill" *ngIf="card.deadline != null">{{ card.deadline | date:'dd-MM'
                }}</span>
            </div>
          </div>

        </li>
        <li class="mt-2 mb-2 d-flex list-group-item-action justify-content-between align-items-start text-white"
          (click)="EditCard(1,2,3)">
          <div href="#" class="d-flex flex-row bd-highlight align-items-start" aria-current="true">
            <button type="button" class="btn btn-success bg-dark text-white btn-outline-light btn-lg">
              <svg xmlns="http://www.w3.org/2000/svg" width="10%" height="10%" fill="currentColor"
                class="bi bi-plus mx-auto" viewBox="0 0 16 16">
                <path
                  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
              </svg>
            </button>
          </div>
        </li>
      </div>

      <!--List4-->
      <div href="#" class="list-group-item bg-dark text-white d-grid gap-1 rounded-bottom" aria-current="true"
        *ngIf="item.listNumber == 4" cdkDropList>
        <li cdkDrag
          class="rounded border border-light list-group-item p-1"
          *ngFor="let card of cardList4" (click)="EditCard(card.id, 1,4)" [ngClass]="{'bg-danger' : card.idTag == 1, 'bg-info' : card.idTag == 2, 'bg-warning' : card.idTag == 3, 'bg-success' : card.idTag == 4, 'bg-secondary' : card.idTag == 5, 'bg-transparent' : card.idTag == null}">

          <div class="rounded list-group-item bg-dark d-flex list-group-item-action justify-content-between text-white border border-light btn-outline-info align-items-start gap-1 m-0">
            <div class="ms-2 ">
              <div class="fw-bold">{{ card.name }}</div>
              {{ card.text }}
            </div>
            <div class="ms-5  d-flex flex-column justify-content-around align-items-end gap-1">
              <span class="badge bg-primary rounded-pill">{{ card.createDate | date:'dd-MM' }}</span>
              <span class="badge bg-danger rounded-pill" *ngIf="card.deadline != null">{{ card.deadline | date:'dd-MM'
                }}</span>
            </div>
          </div>

        </li>
        <li class="mt-2 mb-2 d-flex list-group-item-action justify-content-between align-items-start text-white"
          (click)="EditCard(1,2,4)">
          <div href="#" class="d-flex flex-row bd-highlight align-items-start" aria-current="true">
            <button type="button" class="btn btn-success bg-dark text-white btn-outline-light btn-lg">
              <svg xmlns="http://www.w3.org/2000/svg" width="10%" height="10%" fill="currentColor"
                class="bi bi-plus mx-auto" viewBox="0 0 16 16">
                <path
                  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
              </svg>
            </button>
          </div>
        </li>
      </div>

      <!--List5-->
      <div href="#" class="list-group-item bg-dark text-white d-grid gap-1 rounded-bottom" aria-current="true"
        *ngIf="item.listNumber == 5" cdkDropList>
        <li cdkDrag
          class="rounded border border-light list-group-item p-1"
          *ngFor="let card of cardList5" (click)="EditCard(card.id, 1,5)" [ngClass]="{'bg-danger' : card.idTag == 1, 'bg-info' : card.idTag == 2, 'bg-warning' : card.idTag == 3, 'bg-success' : card.idTag == 4, 'bg-secondary' : card.idTag == 5, 'bg-transparent' : card.idTag == null}">

          <div class="rounded list-group-item bg-dark d-flex list-group-item-action justify-content-between text-white border border-light btn-outline-info align-items-start gap-1 m-0">
            <div class="ms-2 ">
              <div class="fw-bold">{{ card.name }}</div>
              {{ card.text }}
            </div>
            <div class="ms-5  d-flex flex-column justify-content-around align-items-end gap-1">
              <span class="badge bg-primary rounded-pill">{{ card.createDate | date:'dd-MM' }}</span>
              <span class="badge bg-danger rounded-pill" *ngIf="card.deadline != null">{{ card.deadline | date:'dd-MM'
                }}</span>
            </div>
          </div>

        </li>
        <li class="mt-2 mb-2 d-flex list-group-item-action justify-content-between align-items-start text-white"
          (click)="EditCard(1,2,5)">
          <div href="#" class="d-flex flex-row bd-highlight align-items-start" aria-current="true">
            <button type="button" class="btn btn-success bg-dark text-white btn-outline-light btn-lg">
              <svg xmlns="http://www.w3.org/2000/svg" width="10%" height="10%" fill="currentColor"
                class="bi bi-plus mx-auto" viewBox="0 0 16 16">
                <path
                  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
              </svg>
            </button>
          </div>
        </li>
      </div>
      
      <!--List6-->
      <div href="#" class="list-group-item bg-dark text-white d-grid gap-1 rounded-bottom" aria-current="true"
        *ngIf="item.listNumber == 6" cdkDropList>
        <li cdkDrag
          class="rounded border border-light list-group-item p-1"
          *ngFor="let card of cardList6" (click)="EditCard(card.id, 1,6)" [ngClass]="{'bg-danger' : card.idTag == 1, 'bg-info' : card.idTag == 2, 'bg-warning' : card.idTag == 3, 'bg-success' : card.idTag == 4, 'bg-secondary' : card.idTag == 5, 'bg-transparent' : card.idTag == null}">

          <div class="rounded list-group-item bg-dark d-flex list-group-item-action justify-content-between text-white border border-light btn-outline-info align-items-start gap-1 m-0">
            <div class="ms-2 ">
              <div class="fw-bold">{{ card.name }}</div>
              {{ card.text }}
            </div>
            <div class="ms-5  d-flex flex-column justify-content-around align-items-end gap-1">
              <span class="badge bg-primary rounded-pill">{{ card.createDate | date:'dd-MM' }}</span>
              <span class="badge bg-danger rounded-pill" *ngIf="card.deadline != null">{{ card.deadline | date:'dd-MM'
                }}</span>
            </div>
          </div>

        </li>
        <li class="mt-2 mb-2 d-flex list-group-item-action justify-content-between align-items-start text-white"
          (click)="EditCard(1,2,6)">
          <div href="#" class="d-flex flex-row bd-highlight align-items-start" aria-current="true">
            <button type="button" class="btn btn-success bg-dark text-white btn-outline-light btn-lg">
              <svg xmlns="http://www.w3.org/2000/svg" width="10%" height="10%" fill="currentColor"
                class="bi bi-plus mx-auto" viewBox="0 0 16 16">
                <path
                  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
              </svg>
            </button>
          </div>
        </li>
      </div>

    </div>
  </div>
  <div href="#" class="d-flex flex-row bd-highlight p-5 align-items-start" aria-current="true">
    <button type="button" id="inputModal" class="btn btn-success bg-dark text-white btn-outline-light btn-lg btn-block"
      data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="ModalCreate(1)">
      <svg xmlns="http://www.w3.org/2000/svg" width="10%" height="10%" fill="currentColor" class="bi bi-plus mx-auto"
        viewBox="0 0 16 16">
        <path
          d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
      </svg>
    </button>
  </div>
</div>

<!-- Button Modal -->
<!-- <button type="button" id="inputModal" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="ModalCreate(1)">
  Launch demo modal
</button> -->
<!-- MODAL CREATE, DELETE, SHOW-->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <!--LISTA-->
    <div class="modal-content" *ngIf="createList">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Crie sua Lista</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <div class="mb-md-5 mt-md-4 pb-5">

          <div class="form-outline form-white mb-4">
            <input type="text" id="typeEmailX" class="form-control form-control-lg" [(ngModel)]="listName"
              [ngModelOptions]="{standalone: true}" />
            <label class="form-label" for="typeEmailX">Nome Lista</label>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="FecharModal()">Fechar</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="CreateList()">Salvar</button>
      </div>
    </div>
    <!--EDIT LISTA-->
    <div class="modal-content" *ngIf="editList">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edite sua Lista</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <div class="mb-md-5 mt-md-4 pb-5">

          <div class="form-outline form-white mb-4">
            <input type="text" id="typeEmailX" class="form-control form-control-lg" [(ngModel)]="listName"
              [ngModelOptions]="{standalone: true}" />
            <label class="form-label" for="typeEmailX">Nome Lista</label>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="FecharModal()">Fechar</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="SalvarEditList()">Salvar</button>
      </div>
    </div>
    <!--DELETE LISTA-->
    <div class="modal-content" *ngIf="deleteList">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Apague sua Lista</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body flex flex-row justify-content-between text-center">

        <button type="button" class="btn btn-secondary btn-lg m-lg-2" data-bs-dismiss="modal"
          (click)="FecharModal()">Fechar</button>
        <button type="button" class="btn btn-danger btn-lg m-lg-2" data-bs-dismiss="modal"
          (click)="SalvarDeletList()">Salvar</button>

      </div>

    </div>
  </div>
</div>